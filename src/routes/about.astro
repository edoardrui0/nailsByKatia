---
import BaseLayout from "@layouts/BaseLayout.astro";
import CTA from "@components/CTA.astro";
import Landing from "@components/Landing.astro";
import { t } from "i18n:astro";

// Optimize our landing image and pass it as props to the BaseLayout (for preloading) and Landing (for rendering)
import { getOptimizedImage } from "@utils/utils";
import katiaHeadshot from "@assets/images/about-page/katia-headshot.jpg"; // <-- THE PATH TO THE ASSET YOU WANT TO PRELOAD - The asset must live in src
import landingImage from "@assets/images/landing.jpg";
const optimizedImage = await getOptimizedImage(landingImage);
const optimizedHeadshot = await getOptimizedImage(katiaHeadshot);
---

<BaseLayout
  title={t("about-page.landing")}
  description="Meta description for the page"
  preloadedImage={optimizedImage}
  preloadedImage={optimizedHeadshot}
>
  <!-- Banner -->

  <Landing title={t("about-page.landing")} image={optimizedImage} />

  <!-- About -->
  <section id="about-1451">
    <div class="cs-container">
      <div class="cs-info">
        <picture class="cs-picture">
          <!--Mobile Image-->
          <source media="(max-width: 600px)" srcset={optimizedHeadshot.src} />
          <!--Tablet and above Image-->
          <source media="(min-width: 601px)" srcset={optimizedHeadshot.src} />
          <img
            loading="lazy"
            decoding="async"
            src={optimizedHeadshot.src}
            alt="person"
            width="522"
            height="696"
          />
        </picture>
        <div class="cs-content">
          <span class="cs-topper">About Nails By Katia</span>
          <h1 class="cs-header">Katia Santana</h1>
          <p class="cs-text">
            Nails By Katia is a private nail studio in Tampa, Florida, offering
            affordable, creative, and relaxing nail services. The focus is on
            detailed work, clean tools, and products that treat your nails with
            care, so every set feels as good as it looks.
            <br />
            <br />
            Katia first started doing nails because regular salon visits were not
            always in the budget. Learning how to do her own nails showed her how
            much difference clean prep, the right products, and proper time can make,
            especially when price is a concern. That experience shaped Nails By Katia.
            A space where clients can enjoy quality manicures and pedicures without
            giving up comfort or safety.
          </p>
          <!--Floating Graphic-->
          <img
            class="cs-floater"
            aria-hidden="true"
            loading="lazy"
            decoding="async"
            src="https://csimg.nyc3.cdn.digitaloceanspaces.com/Icons/seeds.svg"
            alt="person"
            width="193"
            height="197"
          />
        </div>
      </div>
    </div>
  </section>

  <!-- Quote -->
  <section id="quote-1890">
    <div class="cs-container">
      <div class="cs-item">
        <p class="cs-review">
          My goal is to give you nails that match your style and hold up to your
          day to day life, not just look nice for a photo.
        </p>
        <div class="cs-flex-group">
          <span class="cs-name">
            Katia Santana
            <span class="cs-job">Owner of Nails by Katia</span>
          </span>
        </div>
        <!--Quote Icon-->
        <img
          class="cs-quote"
          aria-hidden="true"
          src="https://csimg.nyc3.cdn.digitaloceanspaces.com/Images/Graphics/beige-quote.svg"
          decoding="async"
          alt="quote icon"
          width="86"
          height="72"
        />
      </div>
    </div>
  </section>

  <CTA />
</BaseLayout>

<style lang="less">
  /*-- -------------------------- -->
<---          About             -->
<--- -------------------------- -*/

  /* Mobile - 360px */
  @media only screen and (min-width: 0rem) {
    #about-1451 {
      padding: var(--sectionPadding);

      .cs-container {
        width: 100%;
        /* changes to 1280px at large desktop */
        max-width: (944/16rem);
        margin: auto;
        display: flex;
        flex-direction: column;
        align-items: center;
        /* 48px - 100px */
        gap: clamp(3rem, 6vw, 6.25rem);
        position: relative;
        z-index: 1;
      }

      .cs-content {
        width: 100%;
        /* padding left and right added on tablet */
        padding: 0 0 (64/16rem) 0;
        /* prevents padding from affecting height and width */
        box-sizing: border-box;
        position: relative;
        z-index: 1;
      }

      .cs-info {
        width: 100%;
        /* 16px - 48px */
        padding: 0 clamp(1rem, 5vw, 3rem);
        /* prevents padding from affecting height and width */
        box-sizing: border-box;
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        /* 16px - 20px */
        gap: clamp(1rem, 2vw, 1.25rem);
        position: relative;
        z-index: 1;

        &:before {
          /* grey background, moves to the cs-content at tablet */
          content: "";
          width: 100%;
          height: 85%;
          background: #f7f7f7;
          opacity: 1;
          position: absolute;
          display: block;
          bottom: 0;
          left: 0;
          z-index: -1;
        }
      }

      .cs-header {
        font-size: var(--headerFontSize);
        line-height: 1.2em;
        text-align: inherit;
        font-weight: 900;
        /* 12px - 24px */
        margin: 0 0 clamp(0.75rem, 1.5vw, 1.5rem);
        color: var(--headerColor);
        display: block;
      }

      .cs-text {
        /* 14px - 16px */
        font-size: clamp(0.875rem, 1.5vw, 1rem);
        max-width: (700/16rem);
      }

      .cs-text {
        /* Override.  cs-topper cs-title and first cs-text should be removed and put into your global css sheet so it can control every instance of them on your site and is consistent. This selector is a section specific override that stays inside this stitch */
        margin-bottom: (16/16rem);
        &:last-of-type {
          margin-bottom: (0/16rem);
        }
      }

      .cs-picture {
        /* width and height changes at tablet */
        width: 85%;
        max-width: (350/16rem);
        height: (330/16rem);
        display: block;
        position: relative;
        z-index: 10;

        img {
          width: 100%;
          height: 100%;
          object-fit: cover;
          /* positions the top of the image to line up wiht the top of the parent */
          object-position: top;
          position: absolute;
          top: 0;
          left: 0;
        }
      }

      .cs-floater {
        /* 100px - 192px */
        width: clamp(6.25rem, 15vw, 12rem);
        height: auto;
        display: none;
        position: absolute;
        right: (50/16rem);
        top: (-75/16rem);
      }
    }
  }

  /* Tablet - 768px */
  @media only screen and (min-width: 48rem) {
    #about-1451 {
      .cs-info {
        flex-direction: row;
        padding: 0;

        &:nth-of-type(even) {
          .cs-content {
            padding-left: (36/16rem);
            padding-right: (20/16rem);
            &:before {
              left: 0;
              right: auto;
            }
          }

          .cs-picture {
            /* sends it to the right in the 2nd position */
            order: 2;
          }
        }

        &:before {
          display: none;
        }
      }

      .cs-content {
        /* 40px - 148px */
        margin-top: clamp(2.5rem, 7vw, 7.8125rem);
        /* 32px - 148px */
        padding: clamp(2rem, 10vw, 9.375rem) (36/16rem) (64/16rem) (20/16rem);

        &:before {
          /* grey background */
          content: "";
          width: 120%;
          height: 100%;
          background: #f7f7f7;
          opacity: 1;
          position: absolute;
          display: block;
          bottom: 0;
          right: 0;
          z-index: -1;
        }
      }

      .cs-picture {
        /* width and height changes again on larger desktop */
        width: 38%;
        max-width: (260/16rem);
        /* 260px - 348px */
        height: clamp(16.25rem, 36vw, 21.75rem);
      }

      .cs-floater {
        display: block;
      }
    }
  }

  /* Large Desktop 1300px */
  @media only screen and (min-width: 81.25rem) {
    #about-1451 {
      .cs-container {
        max-width: (1280/16rem);
      }

      .cs-info {
        align-items: stretch;
      }

      .cs-picture {
        height: auto;
        min-height: (696/16rem);
        width: (522/16rem);
        max-width: (522/16rem);
        margin-bottom: (64/16rem);
        /* prevents flexbox from squishing it */
        flex: none;
      }
    }
  }

  /* Larger Desktop 1600px */
  @media only screen and (min-width: 100rem) {
    #about-1451 {
      .cs-info {
        &:nth-of-type(even) {
          .cs-picture {
            margin-left: 0;
          }
        }
      }

      .cs-picture {
        margin-left: (-88/16rem);
      }
    }
  }

  /* Dark Mode */
  @media only screen and (min-width: 0rem) {
    body.dark-mode {
      #about-1451 {
        .cs-info,
        .cs-content {
          &:before {
            background-color: rgba(0, 0, 0, 0.2);
          }
        }

        .cs-header,
        .cs-text {
          color: var(--bodyTextColorWhite);
        }

        .cs-text {
          opacity: 0.8;
        }
      }
    }
  }

  /*-- -------------------------- -->
<!--           Quote            -->
<--- -------------------------- -*/

  /* Mobile - 360px */
  @media only screen and (min-width: 0rem) {
    #quote-1890 {
      padding: var(--sectionPadding);
      /* 340px - 660px */
      // padding-top: clamp(21.25rem, 49vw, 41.25rem);
      background-color: #faf6f2;
      overflow-x: clip;
      position: relative;

      .cs-container {
        width: 100%;
        /* changes to 1280px at desktop */
        max-width: (704/16rem);
        margin: auto;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      }

      .cs-item {
        text-align: center;
        width: 100%;
        /* prevents padding from adding to height and width */
        box-sizing: border-box;
        /* 60px - 120px top, & 80px bottom */
        /* 24px - 80px left & right */
        padding: clamp(3.75rem, 8vw, 7.5rem) clamp(1.5rem, 6vw, 5rem)
          clamp(2rem, 6vw, 5rem);
        background-color: #ffffff;
        border-radius: (40/16rem);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        /* 32px - 40px */
        gap: clamp(2rem, 4vw, 2.5rem);
        position: relative;
        z-index: 1;
      }

      .cs-review {
        /* 31px - 39px */
        font-size: clamp(1.9375rem, 4vw, 2.4375rem);
        font-weight: 900;
        line-height: 1.2em;
        margin: 0;
        color: var(--headerColor);
        z-index: 1;
      }

      .cs-flex-group {
        text-align: left;
        /* this margin top auto will push everything up and force the cs-flex-group to the bottom of the container. This is to account for review cards with different heights because of more or less text and makes the cards more responsive to changing text */
        margin-top: auto;
        display: flex;
        align-items: flex-start;
        gap: (12/16rem);
      }

      .cs-profile {
        width: (52/16rem);
        height: auto;
        border-radius: 50%;
        display: block;
        position: relative;

        img {
          width: 100%;
          height: 100%;
          /* makes the image behave like a background image */
          object-fit: cover;
          position: absolute;
          top: 0;
          left: 0;
        }
      }

      .cs-name {
        /* 20px - 25px */
        font-size: clamp(1.25rem, 2.5vw, 1.5625rem);
        font-weight: 700;
        line-height: 1.2em;
        margin: 0;
        /* in case one card has more text than the other, this pushes up against the review text so the name and title are always at the bottom. Only works if parent is a flexbox */
        margin-top: auto;
        color: var(--secondary);
        display: block;
      }

      .cs-job {
        font-size: (16/16rem);
        font-weight: 400;
        line-height: 1.5em;
        margin: 0;
        color: var(--bodyTextColor);
        display: block;
      }

      .cs-quote {
        /* 74px - 144px */
        width: clamp(4.625rem, 9vw, 9rem);
        height: auto;
        position: absolute;
        left: 50%;
        /* 32px - 80px */
        top: clamp(2rem, 6vw, 5rem);
        z-index: -1;
        transform: translateX(-50%);
      }

      .cs-background {
        width: 100%;
        height: 45%;
        min-height: (420/16rem);
        display: block;
        position: absolute;
        top: 0;
        left: 0;

        img {
          width: 100%;
          height: 100%;
          /* makes image act as a background image */
          object-fit: cover;
          position: absolute;
          top: 0;
          left: 0;
        }
      }
    }
  }

  /* Tablet - 768px */
  @media only screen and (min-width: 48rem) {
    #quote-1890 {
      .cs-container {
        max-width: (1280/16rem);
      }

      .cs-background {
        height: clamp(56.7%, 60vw, 65%);
      }
    }
  }

  /* Dark Mode */
  @media only screen and (min-width: 0rem) {
    body.dark-mode {
      #quote-1890 {
        background-color: rgba(0, 0, 0, 0.2);

        .cs-item {
          background-color: var(--medium);
        }

        .cs-review,
        .cs-job {
          color: var(--bodyTextColorWhite);
        }

        .cs-job {
          opacity: 0.8;
        }

        .cs-quote {
          filter: invert(1);
        }
      }
    }
  }
</style>
